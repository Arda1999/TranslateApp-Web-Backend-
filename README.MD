1. Ana projeyi Ã§alÄ±ÅŸtÄ±r.

    C:\Users\apeker\Desktop\Code\TranslatorApp\SpeechToTextToTranslate>npm run dev

    (bu komut ile ChanceMic projesini ayrÄ± bir ÅŸekilde Ã§alÄ±ÅŸtÄ±rmaya gerek kalmÄ±yor. Ã§alÄ±ÅŸtÄ±rmaya gerek yok bu projenini iÃ§erisinde serverChangeMic.cjs dosyasÄ± ile 3005 portunda bu iÅŸlem yapÄ±lyor. )

2.
    1)venv\Scripts\activate
    2)C:\Users\apeker\Desktop\Code\TranslatorApp\FlaskTextToSpeech\python app.py

3.
    1)venv\Scripts\activate
    2)C:\Users\apeker\Desktop\Code\TranslatorApp\FlaskSpeakerDiarize\python app.py

4.
    1)venv\Scripts\activate
    2)C:\Users\apeker\Desktop\Code\TranslatorApp\FlaskDetectLanguage>python app.py

5.
    1)C:\Users\apeker\Desktop\Code\TranslatorApp\ConnectTsApp\ npm i
    2)C:\Users\apeker\Desktop\Code\TranslatorApp\ConnectTsApp\  npm start


    !!!!!!!!CHANCE MÄ°C projesi ni kullanmama nedenimiz SpeechTotextTranslate projesinde bu iÅŸlemi yapÄ±yoruz.

    YukarÄ±da da bahsettim!!!!!!


VEYA HEPSÄ°NÄ° TEK KOMUTTA Ã‡ALIÅTIRMAK Ä°STERSEK, start-all.js KODUNU Ã‡ALIÅTIR.

==> npm run start:all

---

## ğŸ™ï¸ UYGULAMANIN Ã‡ALIÅMA MANTIÄI

### **1. "Start Recording" Butonuna BasÄ±ldÄ±ÄŸÄ±nda:**

**AdÄ±m 1: Ses KaydÄ± (5 saniye)**
- Mikrofondan 5 saniye boyunca ses kaydÄ± alÄ±nÄ±r
- Ses MP3 formatÄ±nda kaydedilir
- Bu sÃ¼re zarfÄ±nda konuÅŸmanÄ±z dinlenir

**AdÄ±m 2: Mikrofon DeÄŸiÅŸtirilir**
- `changeMicrophone(3)` komutuyla mikrofon index **3**'e geÃ§ilir
- Port 3005'teki serverChangeMic.cjs Ã¼zerinden PowerShell komutu Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r

**AdÄ±m 3: Dil Tespiti**
- Kaydedilen 5 saniyelik ses dosyasÄ± Flask API'ye gÃ¶nderilir (Port 5000)
- FlaskDetectLanguage servisi hangi dilde konuÅŸtuÄŸunuzu tespit eder
- Ã–rneÄŸin: "tr: Turkish", "en: English", "de: German" vs.
- Otomatik olarak dil seÃ§ilir (languageSelect dropdown)

**AdÄ±m 4: KonuÅŸma TanÄ±ma BaÅŸlatÄ±lÄ±r**
- Web Speech API devreye girer (`recognition1.start()`)
- SÃ¼rekli dinleme modu aktif olur (`continuous: true`)
- Her kelime anlÄ±k olarak metne Ã§evrilir
- SonuÃ§lar `result` div'inde gÃ¶sterilir

**AdÄ±m 5: Otomatik Ã‡eviri**
- TanÄ±nan metin otomatik olarak Ã§evrilir
- TÃ¼rkÃ§e â†” Ä°ngilizce veya diÄŸer diller arasÄ± Ã§eviri
- Ã‡evrilen metin `translatedResult` div'inde gÃ¶sterilir
- Google Translate Free API kullanÄ±lÄ±r

---

### **2. "Start Speaking" Butonuna BasÄ±ldÄ±ÄŸÄ±nda:**

AynÄ± iÅŸlemler gerÃ§ekleÅŸir, ancak **farklÄ± mikrofon** kullanÄ±lÄ±r:

```
startRecording()          â†’ 5 sn ses kaydÄ± + dil tespiti
listMicrophones()         â†’ Mevcut mikrofonlarÄ± listele
changeMicrophone(2)       â†’ Mikrofon index 2'ye geÃ§
recognition1.start()      â†’ KonuÅŸma tanÄ±mayÄ± baÅŸlat
```

**Fark:** 

- "Get-AudioDevice -List" Komutu ile mevcut mikrofonlar listelenir.

- EÄŸer manuel mikrofon deÄŸiÅŸtirmek istersek;

        Set-AudioDevice -Index 3

        veya

        Set-AudioDevice -Index 2 

------------------------------------------------------------------------

- `Start Recording` â†’ Mikrofon **3** kullanÄ±r ==> Sistemde Ã§alan sesleri yakalar ( Stereo Mix (Realtek(R) Audio))

Start Recording (Yerel Test):
[Butona bas] 
  â†“
textToSpeechEnabled = false â›”
  â†“
Mikrofon 3 (Stereo Mix)
  â†“
KonuÅŸma tanÄ±ma Ã§alÄ±ÅŸÄ±r âœ…
  â†“
Ã‡eviri yapÄ±lÄ±r âœ…
  â†“
Seslendirme YAPILMAZ ğŸ”‡ (karÄ±ÅŸma yok!)
------------------------------------------------------------------------

- `Start Speaking` â†’ Mikrofon **2** kullanÄ±r ==> Laptopâ€™un dahili mikrofonu yani konuÅŸmalarÄ± yakalar. (Microphone Array (IntelÂ® Smart Sound Technology for Digital Microphones))

Start Speaking (WebSocket Modu):
[Butona bas]
  â†“
textToSpeechEnabled = true âœ…
  â†“
Mikrofon 2 (Laptop Mic)
  â†“
KonuÅŸma tanÄ±ma + Ã‡eviri
  â†“
Seslendirme YAPILIR ğŸ”Š
  â†“
WebSocket ile karÅŸÄ± tarafa gÃ¶nderilir ğŸ“¡

Bu sayede farklÄ± mikrofon giriÅŸleri arasÄ±nda geÃ§iÅŸ yapabilirsiniz.

------------------------------------------------------------------------

### **3. "Stop Recording" Butonuna BasÄ±ldÄ±ÄŸÄ±nda:**

- KonuÅŸma tanÄ±ma durdurulur (`recognition1.stop()`)
- KayÄ±t durumu sÄ±fÄ±rlanÄ±r
- Butonlar tekrar aktif hale gelir

---

## ğŸ“Š UYGULAMANIN GENEL AKIÅI

```
[Butona Bas] 
    â†“
[5 saniye ses kaydÄ± al]
    â†“
[Flask API'ye gÃ¶nder â†’ Dil Tespit Et (Port 5000)]
    â†“
[Dili otomatik seÃ§]
    â†“
[Web Speech API baÅŸlat]
    â†“
[KonuÅŸ â†’ Metin oluÅŸtur â†’ Ã‡evir â†’ GÃ¶ster]
    â†“
[SÃ¼rekli dinle (continuous mode)]
```

---

## ğŸ”§ KULLANILAN SERVÄ°SLER VE PORTLAR:

1. **Ana Uygulama (Port 3000):** Vite + React - KullanÄ±cÄ± arayÃ¼zÃ¼
2. **Mikrofon DeÄŸiÅŸtirme (Port 3005):** serverChangeMic.cjs - PowerShell komutlarÄ±yla mikrofon kontrolÃ¼
3. **Dil Tespiti (Port 5000):** FlaskDetectLanguage - Ses dosyasÄ±ndan dil tespiti
4. **Text-to-Speech (Port 5002):** FlaskTextToSpeech - Metni sese Ã§evirme
5. **Speaker Diarization (Port 5001):** FlaskSpeakerDiarize - KonuÅŸmacÄ± ayrÄ±ÅŸtÄ±rma
6. **WebSocket Sunucusu (Port 8080):** ConnectTsApp - KullanÄ±cÄ±lar arasÄ± baÄŸlantÄ±

---

## ğŸ¯ Ã–ZELLÄ°KLER:

- âœ… Otomatik dil tespiti (ilk 5 saniyede)
- âœ… GerÃ§ek zamanlÄ± konuÅŸma tanÄ±ma
- âœ… AnlÄ±k Ã§eviri (Ã§ok dilli destek)
- âœ… Ã‡oklu mikrofon desteÄŸi
- âœ… KonuÅŸmacÄ± ayrÄ±ÅŸtÄ±rma (diarization)
- âœ… Text-to-Speech dÃ¶nÃ¼ÅŸÃ¼m
- âœ… WebSocket ile Ã§ok kullanÄ±cÄ±lÄ± iletiÅŸim

---

## ğŸŒ AYNI WiFi AÄINDAN BAÅKA CÄ°HAZDAN BAÄLANMA

### **Sunucu Bilgisayarda (192.168.68.64):**

1. TÃ¼m servisleri Ã§alÄ±ÅŸtÄ±r:
   ```bash
   npm run start:all
   ```

2. Windows GÃ¼venlik DuvarÄ± ayarlarÄ±:
   - **Windows GÃ¼venlik** â†’ **GÃ¼venlik DuvarÄ± ve aÄŸ korumasÄ±** â†’ **GeliÅŸmiÅŸ ayarlar**
   - **Gelen Kurallar** â†’ **Yeni Kural** â†’ **BaÄŸlantÄ± noktasÄ±**
   - **TCP** seÃ§ ve ÅŸu portlarÄ± ekle: `3000, 8080, 5002, 5000, 3005`
   - **BaÄŸlantÄ±ya izin ver** â†’ Ä°sim ver: "TranslatorApp"

### **DiÄŸer Cihazdan:**

TarayÄ±cÄ±da ÅŸu adrese git:
```
http://192.168.68.64:3000
```

**NOT:** TÃ¼m servisler (WebSocket, TTS, Detect Language, Mic Change) sunucu bilgisayarda Ã§alÄ±ÅŸmalÄ±. DiÄŸer cihazda sadece tarayÄ±cÄ± yeterli.

---

## âš ï¸ Ã–NEMLÄ°: MÄ°KROFON SEÃ‡Ä°MÄ° HAKKINDA

### **Sunucu Bilgisayarda (192.168.68.64):**
- Mikrofon deÄŸiÅŸtirme **Ã§alÄ±ÅŸÄ±r** (PowerShell + AudioDeviceCmdlets)
- Start Recording â†’ Mikrofon 3 (Stereo Mix - sistem sesleri)
- Start Speaking â†’ Mikrofon 2 (Microphone Array - fiziksel mikrofon)

### **Mobil/Tablet/DiÄŸer Bilgisayarlarda:**
- Mikrofon deÄŸiÅŸtirme servisi **eriÅŸilemez** (192.168.68.64:3005 Ã§alÄ±ÅŸmaz)
- Uygulama **hata vermeden devam eder**
- **VarsayÄ±lan mikrofon** kullanÄ±lÄ±r (cihazÄ±n ana mikrofonu)
- Stereo Mix konsepti mobilde yoktur
- Her iki buton da (Start Recording/Speaking) aynÄ± mikrofonu kullanÄ±r

**Ã‡Ã¶zÃ¼m:** 
- Remote cihazlardan sadece **Start Speaking** kullanÄ±n
- Mikrofon deÄŸiÅŸtirme uyarÄ±sÄ± gÃ¶z ardÄ± edilebilir
- Mobil cihazlar default mikrofonla sorunsuz Ã§alÄ±ÅŸÄ±r

---
